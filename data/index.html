<!DOCTYPE html>
<html>
<head>
  <title>ESP32 Hydroponics Web Server</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">
  <link rel="stylesheet" type="text/css" href="style.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
 
  <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
<script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
  <script>
    window.jQuery || document.write('<script src="http://mysite.com/jquery.min.js"><\/script>')</script>


<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js" type="text/javascript"></script>

  <script src="script.js" type="text/javascript"></script>



</head>
<body>
  <h1>ESP32 Hydroponics Web Server </h1>
  <div class="tabs">
    <ul>
      <li><a  onclick="openTab(event, 'section1')">Home</a></li>
      <li><a  onclick="openTab(event, 'section8')">Configuration</a></li>
      <li><a  onclick="openTab(event, 'section2')">Graphs</a></li>
      <li><a  onclick="openTab(event, 'section3')">Tables</a></li>

    </ul>
  
  </div>
      <section id="section1" class="tabcontent">
        <h2>Error Messages: </h2>
        <p id="error">Sensor data for Water Temperature has been flagged for data: _____. Check Water Temperature sensor. </p>
        <h2>Latest Sensor Recordings</h2>
        <section class="summary-container">
          <div>
            <p class="summaryTitle"> Air Temperature</p>
            <div id="airTemp-summary"></div>
          </div>
          <div>
            <p class="summaryTitle"> Air Humidity</p>
            <div  id="airHumid-summary" ></div>
          </div>
          <div>
            <p class="summaryTitle"> Water Temperature</p>
            <div  id="waterTemp-summary" ></div>
          </div>
          <div>
            <p class="summaryTitle"> Water Level</p>
            <div  id="waterLvl-summary" ></div>
          </div>
          <div>
            <p class="summaryTitle"> pH</p>
            <div  id="pH-summary" ></div>
          </div>
          <div>
            <p class="summaryTitle"> Nutrient Level</p>
            <div  id="nutrientLvl-summary" ></div>
          </div>

        </section>



      </section>
      <section id="section2" class="tabcontent">
        <div style="font-size: 20px;color: #0F3376;">Select Graphs to Display </div>
        <br>
       
        <section class="checkboxContainer">
          

          <ul id = "AirTempCheckBox1" ><input type="checkbox" onclick="selectLI(AirTempCheckBox1);updateGraphsDisplay();"  > <label for="airtemp">Air Temperature</label>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="airtemp" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="airtemp" >Historical Data</label></li>
          </ul>
          <ul id = "AirHumidCheckBox1" ><input type="checkbox" onclick="selectLI(AirHumidCheckBox1);updateGraphsDisplay();" > <label for="airhumid">Air Humidity</label>
            <li ><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();" > <label for="airhumid" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="airhumid" >Historical Data</label></li>
          </ul>
          <ul id = "WaterTempCheckBox1" ><input type="checkbox" onclick="selectLI(WaterTempCheckBox1);updateGraphsDisplay();" > <label for="watertemp">Water Temperature</label>
            <li ><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();" > <label for="watertemp" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="watertemp" >Historical Data</label></li>
          </ul>
          <ul id = "WaterLevelCheckBox1" ><input type="checkbox" onclick="selectLI(WaterLevelCheckBox1);updateGraphsDisplay();"  > <label for="waterlevel">Water Level</label>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="waterlevel" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="waterlevel" >Historical Data</label></li>
          </ul>
          <ul id = "pHCheckBox1" ><input type="checkbox" onclick="selectLI(pHCheckBox1);updateGraphsDisplay();" > <label for="pH">pH</label>
            <li ><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();" > <label for="pH" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="pH" >Historical Data</label></li>
          </ul>
          <ul id = "NutrientLvlCheckBox1" ><input type="checkbox" onclick="selectLI(NutrientLvlCheckBox1);updateGraphsDisplay();" > <label for="nutrientlevel">Nutrient Level</label>
            <li ><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();" > <label for="nutrientlevel" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateGraphsDisplay();"> <label for="nutrientlevel" >Historical Data</label></li>
          </ul>
        </section>
        <br>

        <button onclick="selectAllCheckboxes('section2');updateGraphsDisplay();">Select all</button>
        <button onclick="clearAllCheckboxes('section2');updateGraphsDisplay();">Clear all</button>
        <section id="graphs">
          <div class="graphElement" >
            <!-- <div class="chart-container" > -->
            <canvas id="airTemp" ></canvas>
            <!-- </div> -->
          </div>

          <div class="graphElement">
            <label for="airTempHistory">Choose a Historical Graph:</label>
            <select name="airTempHistory" id="airTempHistoryDropdown" onchange="showHistoricalGraph(event,this.value,this.name)">
              <option value=""> Please select Graph</option>
              <option value="airTempDaily" >Daily Averages</option>
              <option value="airTempWeekly" >Weekly Averages</option>
              <option value="airTempMonthly" >Monthly Averages</option>
            </select>

            <div id="airTempHistory" class="historyGraphs">
              <canvas id="airTempDaily" ></canvas>
              <canvas id="airTempWeekly" ></canvas>
              <canvas id="airTempMonthly" ></canvas>
            </div>
          </div>
          
          <div class="graphElement">
            <canvas id="airHumidity" ></canvas>
          </div>

          <div class="graphElement">
          <label for="airHumidityHistory">Choose a Historical Graph:</label>
          <select name="airHumidityHistory" id="airHumidityHistoryDropdown" onchange="showHistoricalGraph(event,this.value,this.name)">
            <option value=""> Please select Graph</option>
            <option value="airHumidityDaily" >Daily Averages</option>
            <option value="airHumidityWeekly" >Weekly Averages</option>
            <option value="airHumidityMonthly" >Monthly Averages</option>
          </select>

          <div id="airHumidityHistory" class="historyGraphs">
          <canvas id="airHumidityDaily" ></canvas>
          <canvas id="airHumidityWeekly" ></canvas>
          <canvas id="airHumidityMonthly"></canvas>
          </div>
          </div>

          <div class="graphElement">
            <canvas id="waterTemp" ></canvas>
          </div>

          <div class="graphElement">
          <label for="waterTempHistory">Choose a Historical Graph:</label>
          <select name="waterTempHistory" id="waterTempHistoryDropdown" onchange="showHistoricalGraph(event,this.value,this.name)">
            <option value=""> Please select Graph</option>
            <option value="waterTempDaily" >Daily Averages</option>
            <option value="waterTempWeekly" >Weekly Averages</option>
            <option value="waterTempMonthly" >Monthly Averages</option>
          </select>

          <div id="waterTempHistory" class="historyGraphs">
          <canvas id="waterTempDaily" ></canvas>
          <canvas id="waterTempWeekly" ></canvas>
          <canvas id="waterTempMonthly" ></canvas>
          </div>
          </div>

          <div class="graphElement">
            <canvas id="waterLvl" ></canvas>
          </div>

          <div class="graphElement">
          <label for="waterLvlHistory">Choose a Historical Graph:</label>
          <select name="waterLvlHistory" id="waterLvlHistoryDropdown" onchange="showHistoricalGraph(event,this.value,this.name)">
            <option value=""> Please select Graph</option>
            <option value="waterLvlDaily" >Daily Averages</option>
            <option value="waterLvlWeekly" >Weekly Averages</option>
            <option value="waterLvlMonthly" >Monthly Averages</option>
          </select>

          <div id="waterLvlHistory" class="historyGraphs">
          <canvas id="waterLvlDaily" ></canvas>
          <canvas id="waterLvlWeekly" ></canvas>
          <canvas id="waterLvlMonthly" ></canvas>
          </div>
          </div>

          <div class="graphElement">
            <canvas id="pH" ></canvas>
          </div>

          <div class="graphElement">
          <label for="pHHistory">Choose a Historical Graph:</label>
          <select name="pHHistory" id="pHHistoryDropdown" onchange="showHistoricalGraph(event,this.value,this.name)">
            <option value=""> Please select Graph</option>
            <option value="pHDaily" >Daily Averages</option>
            <option value="pHWeekly" >Weekly Averages</option>
            <option value="pHMonthly" >Monthly Averages</option>
          </select>

          <div id="pHHistory" class="historyGraphs">
          <canvas id="pHDaily" ></canvas>
          <canvas id="pHWeekly" ></canvas>
          <canvas id="pHMonthly" ></canvas>
          </div>
          </div>

          <div class="graphElement">
            <canvas id="nutrientLvl" ></canvas>
          </div>

          <div class="graphElement">
          <label for="nutrientLvlHistory">Choose a Historical Graph:</label>
          <select name="nutrientLvlHistory" id="nutrientLvlHistoryDropdown" onchange="showHistoricalGraph(event,this.value,this.name)">
            <option value=""> Please select Graph</option>
            <option value="nutrientLvlDaily" >Daily Averages</option>
            <option value="nutrientLvlWeekly" >Weekly Averages</option>
            <option value="nutrientLvlMonthly" >Monthly Averages</option>
          </select>

          <div id="nutrientLvlHistory" class="historyGraphs">
          <canvas id="nutrientLvlDaily" ></canvas>
          <canvas id="nutrientLvlWeekly" ></canvas>
          <canvas id="nutrientLvlMonthly" ></canvas>
          </div>
          </div>

        
        </section>
      </section>
     
      <section id="section3" class="tabcontent">

        <div style="font-size: 20px;padding: 20px;color: #0F3376;">Select Tables to Display </div>
        <br>
       
        <section class="checkboxContainer">

          <ul id = "AirTempCheckBox2" ><input type="checkbox" onclick="selectLI(AirTempCheckBox2);updateTablesDisplay();"  > <label for="airtemp">Air Temperature</label>
            <li><input type="checkbox" class="checkboxesGraphs" onclick="updateTablesDisplay();"> <label for="airtemp" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="airtemp" >Historical Data</label></li>
          </ul>
          <ul id = "AirHumidCheckBox2" ><input type="checkbox" onclick="selectLI(AirHumidCheckBox2);updateTablesDisplay();" > <label for="airhumid">Air Humidity</label>
            <li ><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();" > <label for="airhumid" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="airhumid" >Historical Data</label></li>
          </ul>
          <ul id = "WaterTempCheckBox2" ><input type="checkbox" onclick="selectLI(WaterTempCheckBox2);updateTablesDisplay();" > <label for="watertemp">Water Temperature</label>
            <li ><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();" > <label for="watertemp" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="watertemp" >Historical Data</label></li>
          </ul>
          <ul id = "WaterLevelCheckBox2" ><input type="checkbox" onclick="selectLI(WaterLevelCheckBox2);updateTablesDisplay();"  > <label for="waterlevel">Water Level</label>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="waterlevel" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="waterlevel" >Historical Data</label></li>
          </ul>
          <ul id = "pHCheckBox2" ><input type="checkbox" onclick="selectLI(pHCheckBox2);updateTablesDisplay();" > <label for="pH">pH</label>
            <li ><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();" > <label for="pH" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="pH" >Historical Data</label></li>
          </ul>
          <ul id = "NutrientLvlCheckBox2" ><input type="checkbox" onclick="selectLI(NutrientLvlCheckBox2);updateTablesDisplay();" > <label for="nutrientlevel">Nutrient Level</label>
            <li ><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();" > <label for="nutrientlevel" > Live Data</label></li>
            <li><input type="checkbox" class="checkboxesTables" onclick="updateTablesDisplay();"> <label for="nutrientlevel" >Historical Data</label></li>
          </ul>
        </section>
        <br>

        <button onclick="selectAllCheckboxes('section3');updateTablesDisplay();">Select all</button>
        <button onclick="clearAllCheckboxes('section3');updateTablesDisplay();">Clear all</button> <br>

        <section id="tables">
          <div class="tableElement" >
            <div id="airTempT"></div>
          </div>

          <div class="tableElement">
            <label for="airTempHistoryT">Choose a Historical Table:</label>
            <select name="airTempHistoryT" id="airTempHistoryDropdownT" onchange="showHistoricalTable(event,this.value,this.name)">
              <option value=""> Please select Table</option>
              <option value="airTempDailyT" >Daily Averages</option>
              <option value="airTempWeeklyT" >Weekly Averages</option>
              <option value="airTempMonthlyT" >Monthly Averages</option>
            </select>

            <div id="airTempHistoryT" class="historyTables">
              <div id="airTempDailyT"></div>
              <div id="airTempWeeklyT"></div>
              <div id="airTempMonthlyT"></div>
            </div>
          </div>
          
          <div class="tableElement">
            <div id="airHumidityT"></div>
          </div>

          <div class="tableElement">
          <label for="airHumidityHistoryT">Choose a Historical Graph:</label>
          <select name="airHumidityHistoryT" id="airHumidityHistoryDropdownT" onchange="showHistoricalTable(event,this.value,this.name)">
            <option value=""> Please select Table</option>
            <option value="airHumidityDailyT" >Daily Averages</option>
            <option value="airHumidityWeeklyT" >Weekly Averages</option>
            <option value="airHumidityMonthlyT" >Monthly Averages</option>
          </select>

          <div id="airHumidityHistoryT" class="historyTables">
            <div id="airHumidityDailyT"></div>
            <div id="airHumidityWeeklyT"></div>
            <div id="airHumidityMonthlyT"></div>
          </div>
          </div>

          <div class="tableElement">
            <div id="waterTempT"></div>
          </div>

          <div class="tableElement">
          <label for="waterTempHistoryT">Choose a Historical Graph:</label>
          <select name="waterTempHistoryT" id="waterTempHistoryDropdownT" onchange="showHistoricalTable(event,this.value,this.name)">
            <option value=""> Please select Table</option>
            <option value="waterTempDailyT" >Daily Averages</option>
            <option value="waterTempWeeklyT" >Weekly Averages</option>
            <option value="waterTempMonthlyT" >Monthly Averages</option>
          </select>

          <div id="waterTempHistoryT" class="historyTables">
            <div id="waterTempDailyT"></div>
            <div id="waterTempWeeklyT"></div>
            <div id="waterTempMonthlyT"></div>
          </div>
          </div>

          <div class="tableElement">
            <div id="waterLvlT"></div>
          </div>

          <div class="tableElement">
          <label for="waterLvlHistoryT">Choose a Historical Graph:</label>
          <select name="waterLvlHistoryT" id="waterLvlHistoryDropdownT" onchange="showHistoricalTable(event,this.value,this.name)">
            <option value=""> Please select Table</option>
            <option value="waterLvlDailyT" >Daily Averages</option>
            <option value="waterLvlWeeklyT" >Weekly Averages</option>
            <option value="waterLvlMonthlyT" >Monthly Averages</option>
          </select>

          <div id="waterLvlHistoryT" class="historyTables">
            <div id="waterLvlDailyT"></div>
            <div id="waterLvlWeeklyT"></div>
            <div id="waterLvlMonthlyT"></div>
          </div>
          </div>

          <div class="tableElement">
            <div id="pHT"></div>
          </div>

          <div class="tableElement">
          <label for="pHHistoryT">Choose a Historical Graph:</label>
          <select name="pHHistoryT" id="pHHistoryDropdownT" onchange="showHistoricalTable(event,this.value,this.name)">
            <option value=""> Please select Table</option>
            <option value="pHDailyT" >Daily Averages</option>
            <option value="pHWeeklyT" >Weekly Averages</option>
            <option value="pHMonthlyT" >Monthly Averages</option>
          </select>

          <div id="pHHistoryT" class="historyTables">
            <div id="pHDailyT"></div>
            <div id="pHWeeklyT"></div>
            <div id="pHMonthlyT"></div>
          </div>
          </div>

          <div class="tableElement">
            <div id="nutrientLvlT"></div>
          </div>

          <div class="tableElement">
          <label for="nutrientLvlHistoryT">Choose a Historical Graph:</label>
          <select name="nutrientLvlHistoryT" id="nutrientLvlHistoryDropdownT" onchange="showHistoricalTable(event,this.value,this.name)">
            <option value=""> Please select Table</option>
            <option value="nutrientLvlDailyT" >Daily Averages</option>
            <option value="nutrientLvlWeeklyT" >Weekly Averages</option>
            <option value="nutrientLvlMonthlyT" >Monthly Averages</option>
          </select>

          <div id="nutrientLvlHistoryT" class="historyTables">
            <div id="nutrientLvlDailyT"></div>
            <div id="nutrientLvlWeeklyT"></div>
            <div id="nutrientLvlMonthlyT"></div>
          </div>
          </div>

        
        </section>


      </section>

      
      <section id="section8" class="tabcontent">
        <h2>Section 8</h2>
        <p>
          <form action="/get" target="hidden-form">
            inputHigher (current value %floatHigher%): <input type="number " name="floatHigher">
            <input type="submit" value="Submit" onclick="submitMessage()">
          </form>
          <form action="/get" target="hidden-form">
            inputLower (current value %floatLower%): <input type="number " name="floatLower">
            <input type="submit" value="Submit" onclick="submitMessage()">
          </form>
          <form action="/get" target="hidden-form">
            mqttUsername (current value %mqttUsername%): <input type="text " name="mqttUsername">
            <input type="submit" value="Submit" onclick="submitMessage()">
          </form>
          <form action="/get" target="hidden-form">
            mqttPassword (current value %mqttPassword%): <input type="text " name="mqttPassword">
            <input type="submit" value="Submit" onclick="submitMessage()">
          </form>
          <form action="/get" target="hidden-form">
            mqttServer (current value %mqttServer%): <input type="text " name="mqttServer">
            <input type="submit" value="Submit" onclick="submitMessage()">
          </form>
          <form action="/get" target="hidden-form">
            mqttPort (current value %mqttPort%): <input type="number " name="mqttPort">
            <input type="submit" value="Submit" onclick="submitMessage()">
          </form>
          
          <iframe style="display:none" name="hidden-form"></iframe></p>
      </section>
      
    

      
  <button onclick="logoutButton()">Logout</button>



</body>
<script src="tables.js" type="text/javascript"></script>
<script src="graphs.js" type="text/javascript"></script>



</html>